<div class="fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm" (click)="onClose()">
  <div class="bg-white rounded-lg shadow-xl w-full max-w-sm overflow-hidden relative" (click)="$event.stopPropagation()">
    <div class="bg-gray-800 text-white p-3 flex justify-between items-center">
      <h3 class="text-lg font-bold">Elige un Marco</h3>
      <button (click)="onClose()" class="text-gray-400 hover:text-white">âœ•</button>
    </div>

    <div class="p-4 grid grid-cols-3 gap-4">
      @for (frame of frames; track frame.id) {
        <div
          class="cursor-pointer flex flex-col items-center gap-2 p-2 rounded hover:bg-gray-100 transition"
          [class.bg-blue-50]="selectedFrame() === frame.id"
          [class.ring-2]="selectedFrame() === frame.id"
          [class.ring-blue-500]="selectedFrame() === frame.id"
          (click)="selectFrame(frame.id)"
        >
          <div class="w-16 h-16 rounded-full overflow-hidden bg-gray-300 flex items-center justify-center" [class]="frame.class">
             <span class="text-xs text-gray-500">Avatar</span>
          </div>
          <span class="text-xs font-medium text-center">{{ frame.name }}</span>
        </div>
      }
    </div>

    <div class="p-3 bg-gray-50 flex justify-end">
      <button (click)="onConfirm()" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Confirmar</button>
    </div>
  </div>
</div>
